import{u as O,e as W,c as D,r as u,f as N,g as E,o as a,a as i,b as c,h as m,d as l,n as y,t as V,F as h,i as w}from"./index-0a55834f.js";import A from"./ButtonAnswer-f424ea1c.js";import j from"./CheckboxAnswer-cf4424d5.js";import F from"./CheckboxImageAnswer-5baf64df.js";import R from"./ContentImages-e9dcb5be.js";import J from"./ContentAnswersOnImage-39ee9ea7.js";import P from"./ContentText-e9d108a6.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./answerCheckMarkRedHat-9b9cb14b.js";import"./ModalImage-1fc5304e.js";const z={key:1,class:"left-side"},G={class:"content-answers"},q={key:0},K=["innerHTML"],Q={class:"absolute-answer-text"},X={key:1,class:"answers-checkboxes-list"},Y={key:2,class:"answers-image-checkboxes-list"},Z={key:3,class:"answers-buttons-list"},ee={key:4,class:"answers-buttons-list"},te=["innerHTML"],ae={id:"check",ref:"answerMark"},ne={key:0,class:"modal-with-button"},se={class:"modal-with-button-container"},oe={class:"modal-with-button-left"},ie=["src"],ce={class:"modal-with-button-right"},le=["innerHTML"],fe={__name:"ContentAnswers",props:["componentData","testStyle","step"],emits:["action","chooseAction"],setup(o,{emit:k}){var b;const e=o;O(s=>({"836396cc":T.value}));const B=W();D(()=>e.componentData.absolutePositionTop+"px"),D(()=>e.componentData.absolutePositionLeft+"px");const p=u(!1),v=u(""),x=u(""),C=u(""),L=u(""),T=u(null),d=N({imagesData:e.componentData.answersButtonType==="imageHoverButtons"?JSON.parse(JSON.stringify(e.componentData.imagesData)):null}),_=u(e.componentData.answersButtonType==="imageHoverButtons"?(b=d.imagesData.imagesList[0])==null?void 0:b.imageURL:"");function M(s){d.imagesData.imagesList[0].imageURL=s}function U(){d.imagesData.imagesList[0].imageURL=_.value}e.componentData.columns?L.value=`repeat(${e.componentData.columns}, minmax(0, 1fr))`:L.value="repeat(2, minmax(0, 1fr))";const H=D(()=>`<p>${e.componentData.legendText} <span style=" color: ${e.componentData.legendTextColor};">${e.componentData.legendColoredText}</span>`),g=s=>{const n=e.componentData.answersList[s];if(e.componentData.answersButtonType==="imageHoverButtons")if(n.image)d.imagesData.imagesList[0].imageURL=n.image.imageURL,e.componentData.imagesData.imagesList[0].imageURL=n.image.imageURL;else return;if(!e.componentData.isComplete){if(n.isModalWithButton){v.value=n.modalImage,x.value=n.modalText,C.value=n.actionOnModalButton,p.value=!0;return}e.componentData.multiple?n.isChecked=!n.isChecked:(e.componentData.answersList.forEach(t=>t.isChecked=!1),n.isChecked=!0,n.action&&n.action.clickAction?k("action",n.action):k("chooseAction",n.action))}},I=()=>{if(e.componentData.answersList)for(let s=e.componentData.answersList.length-1;s>0;s--){const n=Math.floor(Math.random()*(s+1));[e.componentData.answersList[s],e.componentData.answersList[n]]=[e.componentData.answersList[n],e.componentData.answersList[s]]}},S=D(()=>e.componentData.answersList.every(s=>!s.isChecked));E(()=>{e.componentData.doShuffle&&S.value&&I(),e.componentData.answersList&&(T.value=`${100/e.componentData.answersList.length}%`),B.isCheckboxLoaded=!0});const $=s=>{s.name==="moveToStep"&&(p.value=!1,k("action",s)),s.name==="closeModalWarning"&&(p.value=!1)};return(s,n)=>(a(),i(h,null,[c("div",{class:y({"multi-wrapper":o.componentData.isAnswersWithImage,"image-answers-wrapper":o.componentData.isAnswersOnImage})},[o.componentData.isAnswersOnImage?(a(),m(J,{key:0,componentData:e.componentData,onSwitchAnswer:g},null,8,["componentData"])):l("",!0),o.componentData.isAnswersWithImage?(a(),i("div",z,[e.componentData.answersButtonType==="imageHoverButtons"?(a(),m(R,{key:0,componentData:d.imagesData},null,8,["componentData"])):(a(),m(R,{key:1,componentData:o.componentData.imagesData,step:o.step},null,8,["componentData","step"]))])):l("",!0),c("div",{class:y([{"right-side":o.componentData.isAnswersWithImage},"flex-justify-center"])},[o.componentData.isAnswersWithImage&&o.componentData.textData!=null?(a(),m(P,{key:0,componentData:o.componentData.textData,testStyle:e.testStyle},null,8,["componentData","testStyle"])):l("",!0),c("div",G,[e.componentData.hints?(a(),i("div",q,[c("div",{innerHTML:e.componentData.hintText,class:"answers-hint-text"},null,8,K)])):l("",!0),c("div",Q,V(o.componentData.textAnswer),1),e.componentData.answersButtonType==="checkboxes"?(a(),i("ul",X,[(a(!0),i(h,null,w(e.componentData.answersList,(t,r)=>(a(),m(j,{key:r,answerText:t.answerText,isChecked:!!t.isChecked,isDisable:!!e.componentData.isComplete,isRight:!!t.isRight,isRightAlt:!!t.isRightAlt,checkboxColor:o.componentData.legendTextColor,onClick:f=>g(r),class:"answers-checkboxes-list-iiem"},null,8,["answerText","isChecked","isDisable","isRight","isRightAlt","checkboxColor","onClick"]))),128))])):l("",!0),e.componentData.answersButtonType==="imageCheckboxes"?(a(),i("ul",Y,[(a(!0),i(h,null,w(e.componentData.answersList,(t,r)=>(a(),m(F,{key:r,answerText:t.answerText,isChecked:!!t.isChecked,isDisable:!!e.componentData.isComplete,isRight:!!t.isRight,isRightAlt:!!t.isRightAlt,checkboxColor:o.componentData.legendTextColor,imageURL:t.image.imageURL,onClick:f=>g(r),class:"answers-checkboxeslist-image-iiem"},null,8,["answerText","isChecked","isDisable","isRight","isRightAlt","checkboxColor","imageURL","onClick"]))),128))])):l("",!0),e.componentData.answersButtonType==="buttons"?(a(),i("div",Z,[(a(!0),i(h,null,w(e.componentData.answersList,(t,r)=>(a(),m(A,{key:t.answerText,answerText:t.answerText,isChecked:!!t.isChecked,onClick:f=>g(r),class:"answers-buttons-list-iiem"},null,8,["answerText","isChecked","onClick"]))),128))])):l("",!0),e.componentData.answersButtonType==="imageHoverButtons"?(a(),i("div",ee,[(a(!0),i(h,null,w(e.componentData.answersList,(t,r)=>(a(),m(A,{key:t.answerText,answerText:t.answerText,isChecked:!!t.isChecked,imageData:o.componentData.imagesData,imageURL:t.image.imageURL,onClick:f=>g(r),class:"answers-buttons-list-iiem",onHoverEnter:M,onHoverLeave:U},null,8,["answerText","isChecked","imageData","imageURL","onClick"]))),128))])):l("",!0),o.componentData.showLegend?(a(),i("div",{key:5,innerHTML:H.value,class:"answers-legend"},null,8,te)):l("",!0),c("div",ae,null,512)])],2)],2),p.value?(a(),i("div",ne,[c("div",se,[c("div",oe,[c("img",{src:v.value.imageURL,alt:""},null,8,ie)]),c("div",ce,[c("div",{class:"modal-with-button-text",innerHTML:x.value},null,8,le),c("div",{class:"modal-with-button-btn",onClick:n[0]||(n[0]=t=>$(C.value))}," Дальше -> ")])])])):l("",!0)],64))}};export{fe as default};
