import{u as O,e as W,c as D,r as u,f as N,g as V,o as a,a as c,b as i,h as m,d as l,n as y,t as j,F as g,i as w,j as E}from"./index-ac1cb669.js";import A from"./ButtonAnswer-3236fb67.js";import F from"./CheckboxAnswer-8f1469a3.js";import J from"./CheckboxImageAnswer-40b7a87a.js";import R from"./ContentImages-6fc209b2.js";import P from"./ContentAnswersOnImage-c6e93ae2.js";import z from"./ContentText-89df1e28.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./answerCheckMarkRedHat-9b9cb14b.js";import"./ModalImage-01a67b40.js";const G="/redhat-front/assets/arrowNext-81a865fd.svg";const q={key:1,class:"left-side"},K={class:"content-answers"},Q={key:0},X=["innerHTML"],Y={class:"absolute-answer-text"},Z={key:1,class:"answers-checkboxes-list"},ee={key:2,class:"answers-image-checkboxes-list"},te={key:3,class:"answers-buttons-list"},ae={key:4,class:"answers-buttons-list"},ne=["innerHTML"],se={id:"check",ref:"answerMark"},oe={key:0,class:"modal-with-button"},ie={class:"modal-with-button-container"},ce={class:"modal-with-button-left"},le=["src"],re={class:"modal-with-button-right"},me=["innerHTML"],ue={class:"modal-with-footer"},de=i("div",{class:"modal-with-img-next"},[i("img",{src:G,alt:""})],-1),Le={__name:"ContentAnswers",props:["componentData","testStyle","step"],emits:["action","chooseAction"],setup(o,{emit:k}){var b;const e=o;O(s=>({c4644c7e:T.value}));const _=W();D(()=>e.componentData.absolutePositionTop+"px"),D(()=>e.componentData.absolutePositionLeft+"px");const p=u(!1),v=u(""),x=u(""),C=u(""),L=u(""),T=u(null),d=N({imagesData:e.componentData.answersButtonType==="imageHoverButtons"?JSON.parse(JSON.stringify(e.componentData.imagesData)):null}),B=u(e.componentData.answersButtonType==="imageHoverButtons"?(b=d.imagesData.imagesList[0])==null?void 0:b.imageURL:"");function M(s){d.imagesData.imagesList[0].imageURL=s}function U(){d.imagesData.imagesList[0].imageURL=B.value}e.componentData.columns?L.value=`repeat(${e.componentData.columns}, minmax(0, 1fr))`:L.value="repeat(2, minmax(0, 1fr))";const H=D(()=>`<p>${e.componentData.legendText} <span style=" color: ${e.componentData.legendTextColor};">${e.componentData.legendColoredText}</span>`),h=s=>{const n=e.componentData.answersList[s];if(e.componentData.answersButtonType==="imageHoverButtons")if(n.image)d.imagesData.imagesList[0].imageURL=n.image.imageURL,e.componentData.imagesData.imagesList[0].imageURL=n.image.imageURL;else return;if(!e.componentData.isComplete){if(n.isModalWithButton){v.value=n.modalImage,x.value=n.modalText,C.value=n.actionOnModalButton,p.value=!0;return}e.componentData.multiple?n.isChecked=!n.isChecked:(e.componentData.answersList.forEach(t=>t.isChecked=!1),n.isChecked=!0,n.action&&n.action.clickAction?k("action",n.action):k("chooseAction",n.action))}},I=()=>{if(e.componentData.answersList)for(let s=e.componentData.answersList.length-1;s>0;s--){const n=Math.floor(Math.random()*(s+1));[e.componentData.answersList[s],e.componentData.answersList[n]]=[e.componentData.answersList[n],e.componentData.answersList[s]]}},S=D(()=>e.componentData.answersList.every(s=>!s.isChecked));V(()=>{e.componentData.doShuffle&&S.value&&I(),e.componentData.answersList&&(T.value=`${100/e.componentData.answersList.length}%`),_.isCheckboxLoaded=!0});const $=s=>{s.name==="moveToStep"&&(p.value=!1,k("action",s)),s.name==="closeModalWarning"&&(p.value=!1)};return(s,n)=>(a(),c(g,null,[i("div",{class:y({"multi-wrapper":o.componentData.isAnswersWithImage,"image-answers-wrapper":o.componentData.isAnswersOnImage})},[o.componentData.isAnswersOnImage?(a(),m(P,{key:0,componentData:e.componentData,onSwitchAnswer:h},null,8,["componentData"])):l("",!0),o.componentData.isAnswersWithImage?(a(),c("div",q,[e.componentData.answersButtonType==="imageHoverButtons"?(a(),m(R,{key:0,componentData:d.imagesData},null,8,["componentData"])):(a(),m(R,{key:1,componentData:o.componentData.imagesData,step:o.step},null,8,["componentData","step"]))])):l("",!0),i("div",{class:y([{"right-side":o.componentData.isAnswersWithImage},"flex-justify-center"])},[o.componentData.isAnswersWithImage&&o.componentData.textData!=null?(a(),m(z,{key:0,componentData:o.componentData.textData,testStyle:e.testStyle},null,8,["componentData","testStyle"])):l("",!0),i("div",K,[e.componentData.hints?(a(),c("div",Q,[i("div",{innerHTML:e.componentData.hintText,class:"answers-hint-text"},null,8,X)])):l("",!0),i("div",Y,j(o.componentData.textAnswer),1),e.componentData.answersButtonType==="checkboxes"?(a(),c("ul",Z,[(a(!0),c(g,null,w(e.componentData.answersList,(t,r)=>(a(),m(F,{key:r,answerText:t.answerText,isChecked:!!t.isChecked,isDisable:!!e.componentData.isComplete,isRight:!!t.isRight,isRightAlt:!!t.isRightAlt,checkboxColor:o.componentData.legendTextColor,onClick:f=>h(r),class:"answers-checkboxes-list-iiem"},null,8,["answerText","isChecked","isDisable","isRight","isRightAlt","checkboxColor","onClick"]))),128))])):l("",!0),e.componentData.answersButtonType==="imageCheckboxes"?(a(),c("ul",ee,[(a(!0),c(g,null,w(e.componentData.answersList,(t,r)=>(a(),m(J,{key:r,answerText:t.answerText,isChecked:!!t.isChecked,isDisable:!!e.componentData.isComplete,isRight:!!t.isRight,isRightAlt:!!t.isRightAlt,checkboxColor:o.componentData.legendTextColor,imageURL:t.image.imageURL,onClick:f=>h(r),class:"answers-checkboxeslist-image-iiem"},null,8,["answerText","isChecked","isDisable","isRight","isRightAlt","checkboxColor","imageURL","onClick"]))),128))])):l("",!0),e.componentData.answersButtonType==="buttons"?(a(),c("div",te,[(a(!0),c(g,null,w(e.componentData.answersList,(t,r)=>(a(),m(A,{key:t.answerText,answerText:t.answerText,isChecked:!!t.isChecked,onClick:f=>h(r),class:"answers-buttons-list-iiem"},null,8,["answerText","isChecked","onClick"]))),128))])):l("",!0),e.componentData.answersButtonType==="imageHoverButtons"?(a(),c("div",ae,[(a(!0),c(g,null,w(e.componentData.answersList,(t,r)=>(a(),m(A,{key:t.answerText,answerText:t.answerText,isChecked:!!t.isChecked,imageData:o.componentData.imagesData,imageURL:t.image.imageURL,onClick:f=>h(r),class:"answers-buttons-list-iiem",onHoverEnter:M,onHoverLeave:U},null,8,["answerText","isChecked","imageData","imageURL","onClick"]))),128))])):l("",!0),o.componentData.showLegend?(a(),c("div",{key:5,innerHTML:H.value,class:"answers-legend"},null,8,ne)):l("",!0),i("div",se,null,512)])],2)],2),p.value?(a(),c("div",oe,[i("div",ie,[i("div",ce,[i("img",{src:v.value.imageURL,alt:""},null,8,le)]),i("div",re,[i("div",{class:"modal-with-button-text",innerHTML:x.value},null,8,me),i("div",ue,[i("div",{class:"modal-with-button-btn",onClick:n[0]||(n[0]=t=>$(C.value))},[E(" Дальше "),de])])])])])):l("",!0)],64))}};export{Le as default};
